<div class="questions">
  <h2>Questions</h2>

  <div class="toolbar">
    <input
      type="search"
      placeholder="Search questions (title or body)..."
      [(ngModel)]="query"
      (input)="onSearchInput()"
      aria-label="Search questions"
    />
    <div class="meta">
      <span *ngIf="!loading">{{ questions.length }} result{{ questions.length === 1 ? '' : 's' }}</span>
      <span *ngIf="loading">Loading…</span>
    </div>
  </div>

  <div *ngIf="loading && !questions.length" class="loading">Loading questions…</div>

  <ul *ngIf="!loading && filtered.length > 0">
    <li *ngFor="let q of filtered">
      <a [routerLink]="['/questions', q.id]">{{ q.title }}</a>
      <small>by {{ q.username }} • {{ q.createdAt | date:'short' }}</small>
    </li>
  </ul>

  <p *ngIf="!loading && filtered.length === 0" class="empty">
    No questions found. Try a different search or ask the first question.
  </p>
</div>